<html>



<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Montserrat:500&display=swap" rel="stylesheet">

<head>
        <nav class="navbar navbar-expand-lg navbar-light bg-light" style="background-color: #070999 !important;">
                <a class="navbar-brand" href="/" style="color:white !important;">CP Image Viewer</a>
        </nav>

</head>


<!-- <p style="text-align:right">If you cannot view tif files in your browser (firefox or Chrome), Download Tiff extensions here</p>
<a href="https://chrome.google.com/webstore/detail/tiff-viewer/fciggfkkblggmebjbekbebbcffeacknj" target="_blank"><p style="text-align:right">Download Tif file viewer for Chrome</p> </a>
<a href="https://addons.mozilla.org/en-US/firefox/addon/tiff-viewer/" target="_blank"><p style="text-align:right">Download Tif file viewer for Firefox</p> </a> -->


<style>

  body{
    font-family: 'Montserrat', sans-serif;

  }  


  #wavelength_image {
  border-radius: 5px;
  cursor: pointer;
  transition: 0.3s;
  filter:brightness(450%)
}

#wavelength_image:hover {opacity: 0.7;}

/* The Modal (background) */
.modal {
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 1; /* Sit on top */
  padding-top: 100px; /* Location of the box */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.9); /* Black w/ opacity */
}

/* Modal Content (Image) */
.modal-content {
  margin: auto;
  display: block;
  width: 80%;
  max-width: 700px;
}

/* Caption of Modal Image (Image Text) - Same Width as the Image */
#caption {
  margin: auto;
  display: block;
  width: 80%;
  max-width: 700px;
  text-align: center;
  color: #ccc;
  padding: 10px 0;
  height: 150px;
}

/* Add Animation - Zoom in the Modal */
.modal-content, #caption {
  animation-name: zoom;
  animation-duration: 0.6s;
}

@keyframes zoom {
  from {transform:scale(0)}
  to {transform:scale(1)}
}

/* The Close Button */
.close {
  position: absolute;
  top: 15px;
  right: 35px;
  color: #f1f1f1;
  font-size: 40px;
  font-weight: bold;
  transition: 0.3s;
}

.close:hover,
.close:focus {
  color: #bbb;
  text-decoration: none;
  cursor: pointer;
}

/* 100% Image Width on Smaller Screens */
@media only screen and (max-width: 700px){
  .modal-content {
    width: 100%;
  }
}
</style>


<body>


  
    
<!-- The Modal -->
<div id="myModal" class="modal">

    <!-- The Close Button -->
    <span class="close">&times;</span>
  
    <!-- Modal Content (The Image) -->
    <img class="modal-content" id="img01">

    <input type="range" id="opacity-slider" min="100" max="800" step="1" value="1">

    <script>
        document.getElementById('opacity-slider').addEventListener('input', function (e) {
        wavelength_image = document.getElementById('img01');
	    wavelength_image.style.filter = "brightness(700%)";
        });
    
    </script>
  
    <!-- Modal Caption (Image Text) -->
    <div id="caption"></div>
</div>
  


    <br>

    

    <br>
    <br>

    
                           
                     
                               
       <h1 style="text-align:center"><u>Compound - <%= well[4][0].molecule_name %></u> </h1>




<br>
<br>




  




<div class="container-fluid">

    <div class="row">
        <div class="col-md-3">
           
        </div>
        <div class="col-md-6" style="text-align:center">
            <button class="btn btn-primary" id="show_images" onclick="ShowImages()" style="text-align:center;" ><h4 style="font-size:24px;" id="image_tag">Images</h4></button> &nbsp; &nbsp;
            <button class="btn btn-primary" id="show_similar_compounds" onclick="ShowSimilarCompounds()" style="text-align:center; opacity:50%;"><h4 id="compound_tag">Similar Compounds</h4></button>
        </div>
        <div class="col-md-3">

        </div>

        
    </div>

    <br>
    <br>
    <br>


    <!--Similar compounds table  -->

    <div class="row" id="similar_compounds_table" style="display:none;">

            <table class="table table-bordered table-striped table-hover" style="width:80%;margin-left:10%;  box-shadow: 0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);">
                    <thead>
                      <tr>
              
                        <th scope="col" style="width:30px;">Compound name</th>  
                       
                        <th scope="col" style="width:5em;">Cell Count</th> 
                        <th scope="col" style="width:5em;">PHH3</th> 
                        <th scope="col" style="width:5em;">Edu</th> 
                        <th scope="col" style="width:3em;">Similarity score</th> 
                        <th scope="col" style="width:4em;"> Color bar</th> 
                      
        
                      </tr>
                    </thead>
            
                    <tbody>
                    
                            <% for (var i = 0; i < well[4].length; i++) { %>
                                <tr class="timeline"></tr>

                            <td class="timeline-yellow">
                                        <div class="timeline-time">
                                            <span style="text-align:left">
                                        <%= well[4][i].similar_compounds %>
                                            </span>
                                           
                                        </div>
                            </td>
                               
                                
                            <td class="timeline-yellow">
                                <div class="timeline-time">
                                    <span style="text-align:left">
                                  <a href=""><%= well[4][i].total_cells_Edu %></a>  
                                    </span>
                                   
                                </div>
                            </td>
        
                            
        
                            <td class="timeline-yellow">
                                <div class="timeline-time">
                                    <span style="text-align:left">
                                <%= well[4][i].positive_ph3 %>
                                    </span>
                                   
                                </div>
                            </td>
        
                        
        
                            <td class="timeline-yellow">
                                <div class="timeline-time">
                                    <span style="text-align:left">
                                <%= well[4][i].positive_edu %>
                                    </span>
                                   
                                </div>
                            </td>
        
                          
        
                            <td class="timeline-yellow">
                                <div class="timeline-time">
                                    <span style="text-align:left">
                                <%= well[4][i].corelation_score %> 
                                    </span>
                                   
                                </div>
                            </td>
        
                            <td class="timeline-yellow">
                               
                                <img src="/CP_IMAGE_VIEWER_APP/compound_scripts/<%= well[4][i].colorbar_filename %>"/>
                             
                                
                                  
                              
                            </td>
                            
                        </tr>
                            <br>
                            <% } %>
                    
                      
                    </tbody>
                  </table>
        

    </div>

    

    <!-- similar table compound ends here -->

    <div class="row" id="well_images">
        <div class="col-md-12">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-2">

                        </div>
                        <div class="col-md-10">
                                <h1>Stain Set 1</h1>

                        </div>
                    </div>
                   
                        <br>

                        <!-- WAVELENGTH_1 IMAGES -->
                        <div class="row">
                            <div class="col-md-2">
                                <br>
                                <br>

                                    <p><%= well[0][1].w1 %></p>
                            </div>
                               
                            <div class="col-md-10">
                                    <% for (var i = 0; i < well[0].length ; i++) { %>

                         
                                        <img onmouseover="enlarge(this)" id="well_image" onmouseout="normalImage(this)" src="/4664/<%= well[0][i].w1_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                                
                        
    
                            
    
                            <% } %>

                            </div>
                              

                        </div>

                        <br>

                        <!-- WAVELENGTH_2 IMAGES -->
                        <div class="row">
                            <div class="col-md-2">
                                <br>
                                <br>

                                    <p><%= well[1][1].w2 %></p>

                            </div>

                            <div class="col-md-10">
                                    <% for (var i = 0; i < well[1].length ; i++) { %>
                           
                           
                               
                                        <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" src="/4664/<%= well[1][i].w2_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                                
                        
            
                           
            
                            <% } %>

                            </div>
                               
                               
                            
                        </div>

                        <br>
                    

                        <!-- WAVELENGTH_3 IMAGES -->
                        <div class="row">
                            <div class="col-md-2">
                                <br>
                                <br>

                                    <p><%= well[2][1].w3 %></p>

                            </div>

                            <div class="col-md-10">
                                    <% for (var i = 0; i < well[2].length ; i++) { %>
                           
                           
                               
                                        <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" id="well_image" src="/4664/<%= well[2][i].w3_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                                
                        
                    
                     
                    
                            <% } %>

                            </div>

                               
                               
                            
                        </div>

                        <br>

                        <!-- WAVELENGTH_4 IMAGES -->
                        <div class="row">
                            <div class="col-md-2 col-lg-2">
                                <br>
                                <br>
                                <p><%= well[3][1].w4 %></p>

                            </div>

                            <div class="col-md-10 col-lg-10">
                                    <% for (var i = 0; i < well[3].length ; i++) { %>
                           
                           
                               
                                        <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" src="/4664/<%= well[3][i].w4_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                                
                            
                            
                        
                            
                            <% } %>

                            </div>
                             
                             
                            
                        </div>


                                

    
         
            </div> 

            <div class="col-md-6">
                    <h1>Stain Set 2</h1>
                    <br>

                    <!-- WAVELENGTH_1 IMAGES -->
                    <div class="row">

                            <div class="col-md-10">

                                    <% for (var i = 0; i < well[0].length ; i++) { %>
                           
                           
                               
                                        <img id="wavelength_image" src="/4664/<%= well[0][i].w1_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                                
                        
        
                            
        
                            <% } %>
        
    
                            </div>
    

                        <div class="col-md-2">
                            <br>
                            <br>

                            <p>Nuclei</p>

                        </div>

                       
                           
                    </div>

                    <br>

                    <!-- WAVELENGTH_2 IMAGES -->
                    <div class="row">

                        <div class="col-md-10">

                                <% for (var i = 0; i < well[1].length ; i++) { %>
                       
                       
                           
                                    <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" src="/4664/<%= well[1][i].w2_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                            
                    
        
                       
        
                        <% } %>

                        </div>

                        <div class="col-md-2">
                                <br>
                                <br>
                                
                                <p>Actin</p>

                        </div>
                           
                        
                    </div>

                    <br>
                

                    <!-- WAVELENGTH_3 IMAGES -->
                    <div class="row">

                        <div class="col-md-10">
                                <% for (var i = 0; i < well[2].length ; i++) { %>
                       
                       
                           
                                    <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" src="/4664/<%= well[2][i].w3_filepath %>" height="200" width="200" style="display:inline-block;"/>  
                            
                    
                
                 
                
                        <% } %>

                        </div>

                        <div class="col-md-2">

                                <br>
                                <br>
                                
                                <p>Tubulin</p>


                        </div>
                            
                        
                    </div>

                    <br>

                    <!-- WAVELENGTH_4 IMAGES -->
                    <div class="row">
                        <div class="col-md-10">
                                <% for (var i = 0; i < well[3].length ; i++) { %>
                       
                       
                           
                                    <img onmouseover="enlarge(this)" onmouseout="normalImage(this)" src="/4664/<%= well[3][i].w4_filepath %>" id="opacity-slider" min=".4" max="1" step=".01" value="1" height="200" width="200" style="display:inline-block;"/>  
                            
                        
                        
                        <% } %>

                        </div>

                        <div class="col-md-2">

                        </div>
                          
                        
                    </div>


                            


     
        </div> 


        </div>
           

    </div>
   
</div>

<br>
<br>
<br>




</body>

<script
  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
  integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="
  crossorigin="anonymous"></script>

<script>

    



    
</script>



<script>
   
            // document.getElementById("well_image").style.filter = "brightness(200%)";
            // document.getElementById("well_image").style.filter = "contrast(50%)";


        function ShowImages(){
        $('#well_images').show();
        $('#similar_compounds_table').hide();

     
        document.getElementById("show_images").style.opacity = "100";

        document.getElementById("show_similar_compounds").style.opacity = "50%";

        document.getElementById("image_tag").style.fontSize= "24px";
        document.getElementById("compound_tag").style.fontSize= "16px";
      


        }



   


    function ShowSimilarCompounds(){
        $('#well_images').hide();
        $('#similar_compounds_table').show();

       

        document.getElementById("show_similar_compounds").style.opacity = "100%";
        document.getElementById("show_images").style.opacity = "50%";
        document.getElementById("compound_tag").style.fontSize= "24px";
        document.getElementById("image_tag").style.fontSize= "16px";
        

    }


var modal = document.getElementById("myModal");

// Get the image and insert it inside the modal - use its "alt" text as a caption
var img = document.getElementById("wavelength_image");

var modalImg = document.getElementById("img01");

var captionText = document.getElementById("caption");
img.onclick = function(){
  modal.style.display = "block";
  modalImg.src = this.src;
  captionText.innerHTML = this.alt;

}

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}
         
</script>




</html>


